<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" 
    integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" 
    crossorigin="anonymous">
<style>
	.mycanvas{
		float:left;
		background:url(map.png);
	}
    .button-xsmall {
      font-size: 70%;
    }

    .button-small {
      font-size: 85%;
    }

    .button-large {
        font-size: 110%;
    }

    .button-xlarge {
      background: rgb(28, 184, 65);
    }

    img{
    top:0;
    left:0;
    position:absolute;
}
 </style>
</head> 
<body>

<canvas width=800 height=542 id="mycanvas" class='mycanvas' ></canvas>

<button class="button-xlarge pure-button" onClick="spawnBackpackTower()";>Wow this is where you get a tower from</button>



<script>
document.addEventListener("mousemove", Follow, false);

var canvas = document.getElementById("mycanvas");
//canvas.addEventListener("click", spawnBackpackTower(), false);
canvas.onClick = function(){spawnBackpackTower()};


var ctx = mycanvas.getContext("2d");
var x=5, y=0;

var stuSpnX=700, stuSpnY=250;

window.onload = animate;

var posX=0, posY=0;


var foodImg = new Image();
var mapImg = new Image();
var backpackImg = new Image();

foodImg.src = "student.png";
mapImg.src = "map.png";
backpackImg.src = "backpackTower.png";
var stuX=100, stuY=100;

function Follow(){
	var x = event.clientX;		//x and y relative to the 
	var y = event.clientY;		//window's coordinate system
	
}

function animate() {
  clearBackground();
  drawStuff();
  alert("animating");
}

function clearBackground() {
  ctx.drawImage(mapImg, 0,0,800,542);
}

function food(x, y, health, img, path){
	this.x = x;
	this.y = y;
}
setInterval(spawnFood, 1000);
var currEnemyCount=0;
var enemyCount=2;







//////////////////////ENEMY SPAWNING///////////////////
function spawnFood(){
  if(currEnemyCount<enemyCount){
	  var walkWay = Math.random();
    var x;
    var y;
    if(walkWay<=.33){
      x=750;
      y=50;
    }
    else if(walkWay<=.66 && walkWay>.33){
      x=750;
      y=250;
    } 
    else if(walkWay>.66){
      x=750;
      y=500;
    }
    var stud = ctx.drawImage(foodImg, x, y, 25, 25);
    currEnemyCount++;
    setInterval(moveFood(stud), 100);
  }  
}

function moveFood(food){
  //food.x--;
}
//////////////////////ENEMY SPAWNING///////////////////






function drawStuff() {
  ctx.fillStyle = "black";
  ctx.font = "30px Arial";
}







//////////////////TOWER FUNCTIONS//////////////////////
var placingTower=false;


function tower(x, y, damage, img, weaponImg){
  this.x=x;
  this.y=y;
}   

function spawnBackpackTower(){	
	alert("Working");
	placingTower=true;
  if(placingTower){
  	ctx.drawImage(backpackImg, x, y);
  }
  placingTower=false;
}

//////////////////TOWER FUNCTIONS//////////////////////


</script>
</body>
</html>